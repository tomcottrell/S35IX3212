////////////////////////////////////////////////////////////////////////////////////////////////////
// fileName: MiscFunctions.c
//
// Description: Miscellaneous functions
//
// Author: Enovation controls
//
//         http://www.enovationcontrols.com
//
// copyright Copyright 2024 by Enovation Controls.
//            This file and/or parts of it are subject to
//            software license terms.
//
//            Without written approval of Enovation Controls this
//            software may not be copied, redistributed or used
//            in any other way.
//
////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////
// Includes
////////////////////////////////////////////////////////////////////////////////////////////////////
#include <stdint.h>

////////////////////////////////////////////////////////////////////////////////////////////////////
//Defines
////////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////////
// Typedefs
////////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////////
// Private variables
////////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////////
// Private interface
////////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////////
// Public interface
////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////
//
// make16(uint8_t msb, uint8_t lsb)
//
// Makes and returns a sixteen bit number from 2 supplied 8 bit numbers
//
//    Parameters:
//       msb - MSB of 16 bit number
//		 lsb - LSB of 16 bit number
//
//    Returns:
//       Uint16_t 16 bit number
//
////////////////////////////////////////////////////////////////////////
uint16_t make16(uint8_t msb, uint8_t lsb)
{
	uint16_t return_value;

	return_value = msb;
	return_value *= 0x100;
	return_value += lsb;

	return(return_value);
}


////////////////////////////////////////////////////////////////////////
//
// make8(uint32_t word_value, uint8_t byte_no)
//
// Extracts a byte from a word of up to 32 bits long
//
//    Parameters:
//       word_value - up to 32 bit number
//		 byte_no - byte number to extract (0 = LLSB)
//
//    Returns:
//       Uint8_t - extracted byte
//
////////////////////////////////////////////////////////////////////////
uint8_t make8(uint32_t word_value, uint8_t byte_no)
{
	uint8_t return_value = 0;

	switch(byte_no){
		case 0:
			return_value = (word_value & 0xFF);
			break;
		case 1:
			return_value = ((word_value / 0x100) & 0xFF);
			break;
		case 2:
			return_value = ((word_value / 0x10000) & 0xFF);
			break;
		case 3:
			return_value = ((word_value / 0x1000000) & 0xFF);
			break;
	}

	return(return_value);
}
